(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-310e4e6f"],{3715:function(e,t,r){},a287:function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u}));var n=r("b775");function a(e){return Object(n["a"])({url:"/user/User/userList",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/user/User/add",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/user/User/getVcode",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/user/User/edit",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/user/User/delete",method:"post",data:{id:e}})}function c(e){return Object(n["a"])({url:"/user/User/checkMobile",method:"post",data:{phone_number:e}})}function u(e){return Object(n["a"])({url:"/user/User/checkUserName",method:"post",data:{username:e}})}},b953:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("p",{staticClass:"header fl"},[e._v("泽拓科技-XPanel管理系统 用户注册")]),r("div",{staticClass:"login-wrap"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[r("el-form-item",{attrs:{prop:"username",label:"请输入名称"}},[r("el-col",{attrs:{span:12}},[r("el-input",{ref:"username",attrs:{placeholder:"请输入名称",name:"username",type:"text",tabindex:"1"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1)],1),r("el-form-item",{attrs:{prop:"email",label:"请输入邮箱"}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{type:"email",placeholder:"请输入邮箱地址"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1),r("el-col",{attrs:{span:5}},[r("el-button",{attrs:{type:"primary",loading:!1},on:{click:function(t){return e.getCodeV()}}},[e._v(e._s(e.codeText))])],1)],1),r("el-form-item",{attrs:{prop:"email",label:"输入验证码"}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{type:"email",placeholder:"输入验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1)],1),r("el-form-item",{attrs:{prop:"password",label:"请输入密码"}},[r("el-col",{attrs:{span:12}},[r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",autocomplete:"new-password",name:"password",tabindex:"4"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword",label:"请确认密码"}},[r("el-col",{attrs:{span:12}},[r("el-input",{key:e.passwordType,ref:"confirmPassword",attrs:{type:e.passwordType,placeholder:"请再次输入密码",name:"confirmPassword",tabindex:"5"},model:{value:e.loginForm.confirmPassword,callback:function(t){e.$set(e.loginForm,"confirmPassword",t)},expression:"loginForm.confirmPassword"}})],1)],1),r("el-form-item",{attrs:{label:"客户验证ID"}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{disabled:!0,tabindex:"5"},model:{value:e.loginForm.user_tag,callback:function(t){e.$set(e.loginForm,"user_tag",t)},expression:"loginForm.user_tag"}})],1)],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.createData()}}},[e._v("立即注册")])],1)],1)])},a=[],o=r("c7eb"),s=r("1da1"),i=r("ade3"),l=(r("ac1f"),r("00b4"),r("abfb")),c=r("ed08"),u=r("a287"),d=(r("252a"),{name:"changePasswordView",data:function(){var e,t=this,r=function(e,t,r){t?/^[A-Za-z0-9_]+$/.test(t)?r():r(new Error("用户名只能输入英文字母、数字、下划线")):r(new Error("请输入用户名!"))},n=function(e,t,r){var n=/^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\.[a-z]{2,}$/;t?n.test(t)?r():r(new Error("邮箱地址格式有误")):r(new Error("请输入邮箱地址"))},a=function(e,t,r){var n=/^(?!.*\s)(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[-!@#$%^&*()_+|~=`{}\[\]:";'<>?,.\/]).{8,12}$/;t?n.test(t)?r():r(new Error("密码必须由大小写字母,数字,特殊字符(不含空格)组成,且长度为8到12位")):r(new Error("请输入密码"))},o=function(e,r,n){var a=/^(?!.*\s)(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[-!@#$%^&*()_+|~=`{}\[\]:";'<>?,.\/]).{8,12}$/;r?a.test(r)?r!==t.loginForm.password?n(new Error("密码不一致!")):n():n(new Error("密码必须由大小写字母,数字,特殊字符(不含空格)组成,且长度为8到12位")):n(new Error("请再次输入密码"))};return{loginForm:(e={username:"",password:"",confirmPassword:"",inputCodeContent:"",email:"",old_username:"",phone_number:"",wechat_number:"",old_mobile:""},Object(i["a"])(e,"confirmPassword",""),Object(i["a"])(e,"pid","0"),Object(i["a"])(e,"user_tag",""),Object(i["a"])(e,"main_user","1"),Object(i["a"])(e,"code",""),e),codeText:"获取验证码",mailTime:300,l:null,loginRules:{username:[{required:!0,trigger:"blur",validator:r}],password:[{required:!0,trigger:"blur",validator:a}],confirmPassword:[{required:!0,trigger:"blur",validator:o}],email:[{required:!0,trigger:"blur",validator:n}]},loading:!1,loadingCode:!1,passwordType:"text",verifiedCode:"",currdatetime:"",user_tag:""}},watch:{$route:{handler:function(e){this.loginForm.user_tag=e.query.token,this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},methods:{resetTemp:function(){},handleCreate:function(){var e=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.dialogDetail=!1,this.$nextTick((function(){e.$refs.dataForm.clearValidate()}))},getCodeV:function(){var e=this;return""==this.loginForm.email?(this.message_tips="请输入邮箱",this.message_type="error",Object(c["g"])(this.message_tips,this.message_type),!1):null==this.l&&void Object(u["f"])({email:this.loginForm.email}).then((function(t){var r=t;if(200===r.code){e.dialogFormVisible=!1,e.message_tips="邮件发送成功",e.message_type="success";var n=e;return n.l=setInterval((function(){n.mailTime-=1,n.mailTime<=0&&clearInterval(n.l),n.codeText=n.mailTime+" 后重新获取"}),1e3),Object(c["g"])(e.message_tips,e.message_type),!1}return 505===r.code?(e.message_tips="邮箱已经注册，去登录",e.message_type="error",Object(c["g"])(e.message_tips,e.message_type),!1):(e.message_tips=r.msg,e.message_type="error",Object(c["g"])(e.message_tips,e.message_type),!1)}))},createData:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(r){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r&&(n=Object.assign({},e.loginForm),Object(u["a"])(n).then((function(t){var r=t;200===r.code?(e.dialogFormVisible=!1,e.message_tips="注册成功",e.message_type="success"):(e.message_tips=r.msg,e.message_type="error"),Object(c["g"])(e.message_tips,e.message_type)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleChangePassword:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(r){var n,a,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return e.loading=!0,n={username:e.loginForm.username,password:e.loginForm.password},t.next=5,Object(l["b"])(n);case 5:a=t.sent,s=e,200==a.code?(e.loading=!1,s.$message({message:a.message,type:"success",onClose:function(){setTimeout((function(){sessionStorage.clear(),s.$router.push({path:"/login"})}),0)}})):200==a.code||(Object(c["g"])(a.message,"error"),e.loading=!1),t.next=12;break;case 10:return console.log("error submit!!"),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getCode:function(){/^1[3456789]\d{9}$/.test(this.loginForm.username)?this.loadingCode=!0:this.$message({message:"手机号格式不对!",type:"error"}),console.log("获取验证码")}}}),m=d,p=(r("cea5"),r("2877")),g=Object(p["a"])(m,n,a,!1,null,"0eb05f25",null);t["default"]=g.exports},cea5:function(e,t,r){"use strict";r("3715")},ed08:function(e,t,r){"use strict";r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return u}));r("53ca"),r("ac1f"),r("00b4"),r("5319"),r("4d63"),r("2c3e"),r("25f0"),r("d3b7"),r("4d90"),r("159b");var n=r("5c96");function a(e,t){return Object(n["Message"])({message:e,type:t,duration:2e3})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"确定执行此操作吗？",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";return n["MessageBox"].confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:t,center:!0})}function s(e){var t=e.split("T");return t[0]+" "+t[1]}function i(){var e=new Date,t="-",r=":",n=e.getFullYear(),a=e.getMonth()+1,o=e.getDate(),s=e.getHours(),i=e.getMinutes(),l=e.getSeconds(),c=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];c[e.getDay()];a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o),s>=0&&s<=9&&(s="0"+s),i>=0&&i<=9&&(i="0"+i),l>=0&&l<=9&&(l="0"+l);var u=n+t+a+t+o+" "+s+r+i+r+l;return u}function l(e){var t=e.split("-"),r=t[0],n=t[1],a=t[2],o=new Date(r,n,0);o=o.getDate();var s=r,i=parseInt(n)+1;13==i&&(s=parseInt(s)+1,i=1);var l=a,c=new Date(s,i,0);c=c.getDate(),l>c&&(l=c),i<10&&(i="0"+i);var u=s+"-"+i+"-"+l;return u}function c(){for(var e="",t=4,r=new Array(0,1,2,3,4,5,6,7,8,9),n=0;n<t;n++){var a=Math.floor(9*Math.random());e+=r[a]}return e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"确定执行此操作吗？",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";return n["MessageBox"].prompt(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入code",inputPattern:/^[0-9]\d*$/,inputErrorMessage:"code格式不正确",type:t})}}}]);