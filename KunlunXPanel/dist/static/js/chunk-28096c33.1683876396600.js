(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28096c33"],{"0ccb":function(e,t,r){var a=r("50c4"),n=r("1148"),s=r("1d80"),o=Math.ceil,u=function(e){return function(t,r,u){var i,l,c=String(s(t)),_=c.length,d=void 0===u?" ":String(u),m=a(r);return m<=_||""==d?c:(i=m-_,l=n.call(d,o(i/d.length)),l.length>i&&(l=l.slice(0,i)),e?c+l:l+c)}};e.exports={start:u(!1),end:u(!0)}},1148:function(e,t,r){"use strict";var a=r("a691"),n=r("1d80");e.exports="".repeat||function(e){var t=String(n(this)),r="",s=a(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},"1a2c":function(e,t,r){"use strict";r("e2c0")},"1d51":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-dialog",{attrs:{title:"告警配置",visible:e.dialogRestoreVisible,"custom-class":"single_dal_view","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogRestoreVisible=t}}},[r("el-form",{ref:"restoreForm",attrs:{model:e.restoretemp,rules:e.rules,"label-position":"left"}},[r("el-form-item",{attrs:{label:"告警类型:",prop:"alrmType"}},[r("el-select",{staticClass:"list_search_select",attrs:{placeholder:"请选择告警类型",clearable:""},model:{value:e.restoretemp.alrmType,callback:function(t){e.$set(e.restoretemp,"alrmType",t)},expression:"restoretemp.alrmType"}},e._l(e.alarmTypes,(function(e){return r("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"用户名称:",prop:"user"}},[r("el-select",{staticClass:"list_search_select",attrs:{placeholder:"请选择告警类型",clearable:""},model:{value:e.restoretemp.user,callback:function(t){e.$set(e.restoretemp,"user",t)},expression:"restoretemp.user"}},e._l(e.userList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"提醒方式:",prop:"alrm_to_user"}},[r("el-select",{staticClass:"list_search_select",attrs:{placeholder:"提醒方式",multiple:"",clearable:""},model:{value:e.restoretemp.alrm_to_user,callback:function(t){e.$set(e.restoretemp,"alrm_to_user",t)},expression:"restoretemp.alrm_to_user"}},[r("el-option",{key:"0",attrs:{label:"系统提醒",value:"system"}}),r("el-option",{key:"1",attrs:{label:"短信提醒",value:"phone_message"}}),r("el-option",{key:"2",attrs:{label:"邮件提醒",value:"mail"}})],1)],1),r("el-form-item",{attrs:{label:"是否生效:",prop:"status"}},[r("el-select",{staticClass:"list_search_select",attrs:{placeholder:"是否生效",clearable:""},model:{value:e.restoretemp.status,callback:function(t){e.$set(e.restoretemp,"status",t)},expression:"restoretemp.status"}},[r("el-option",{key:"0",attrs:{label:"有效",value:"1"}}),r("el-option",{key:"1",attrs:{label:"禁用",value:"0"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogRestoreVisible=!1}}},[e._v("关闭")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createData(e.restoretemp)}}},[e._v("确认")])],1)],1),r("el-drawer",{attrs:{title:"告警配置",visible:e.table,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.table=t}}},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[r("el-table",{attrs:{data:e.gridData}},[r("el-table-column",{attrs:{property:"alarm_type",label:"告警类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.handleUserTypeName(t.row.alarm_type)))])]}}])}),r("el-table-column",{attrs:{property:"alarm_to_user",label:"推送方式",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.handleAlramTypeName(t.row.alarm_to_user)))])]}}])}),r("el-table-column",{attrs:{property:"uid",label:"接受处理人"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.handleUserName(t.row.uid)))])]}}])}),r("el-table-column",{attrs:{property:"status",label:"是否是生效"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.status?r("span",[e._v("生效中")]):"0"===t.row.status?r("span",[e._v("禁用")]):e._e()]}}])}),r("el-table-column",{attrs:{property:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleEditAlram(a)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleDeleteAlram(a)}}},[e._v("删除")])]}}])})],1)],1),r("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[r("el-tabs",{attrs:{"tab-position":e.tabPosition}},[r("el-tab-pane",{attrs:{label:"短信配置"}},[r("el-form",{ref:"phone_message_config",attrs:{model:e.phone_message_config,"label-width":"120px",rules:e.rules}},[r("el-form-item",{attrs:{label:"AccessKeyId:",prop:"AccessKeyId"}},[r("el-input",{attrs:{placeholder:"请输入AccessKeyId"},model:{value:e.phone_message_config.AccessKeyId,callback:function(t){e.$set(e.phone_message_config,"AccessKeyId",t)},expression:"phone_message_config.AccessKeyId"}})],1),r("el-form-item",{attrs:{label:"SecretKey:",prop:"SecretKey"}},[r("el-input",{attrs:{placeholder:"请输入SecretKey"},model:{value:e.phone_message_config.SecretKey,callback:function(t){e.$set(e.phone_message_config,"SecretKey",t)},expression:"phone_message_config.SecretKey"}})],1),r("el-form-item",{attrs:{label:"短信模版ID:",prop:"TemplateId"}},[r("el-input",{attrs:{placeholder:"请输入短信模版ID"},model:{value:e.phone_message_config.TemplateId,callback:function(t){e.$set(e.phone_message_config,"TemplateId",t)},expression:"phone_message_config.TemplateId"}})],1),r("el-form-item",{attrs:{label:"短信签名ID:",prop:"SigId"}},[r("el-input",{attrs:{placeholder:"请输入短信签名ID"},model:{value:e.phone_message_config.SigId,callback:function(t){e.$set(e.phone_message_config,"SigId",t)},expression:"phone_message_config.SigId"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.SaveMessageConfig()}}},[e._v("保存")])],1)],1)],1),r("el-tab-pane",{attrs:{label:"阿里云邮件"}},[r("el-form",{ref:"mail_config",attrs:{model:e.mail_config,"label-width":"120px",rules:e.rules}},[r("el-form-item",{attrs:{label:"AccessKeyId:",prop:"AccessKeyId"}},[r("el-input",{attrs:{placeholder:"请输入AccessKeyId"},model:{value:e.mail_config.AccessKeyId,callback:function(t){e.$set(e.mail_config,"AccessKeyId",t)},expression:"mail_config.AccessKeyId"}})],1),r("el-form-item",{attrs:{label:"SecretKey:",prop:"SecretKey"}},[r("el-input",{attrs:{placeholder:"请输入SecretKey"},model:{value:e.mail_config.SecretKey,callback:function(t){e.$set(e.mail_config,"SecretKey",t)},expression:"mail_config.SecretKey"}})],1),r("el-form-item",{attrs:{label:"发件邮箱:",prop:"AccountName"}},[r("el-input",{attrs:{placeholder:"请输入发件邮箱"},model:{value:e.mail_config.AccountName,callback:function(t){e.$set(e.mail_config,"AccountName",t)},expression:"mail_config.AccountName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.SaveMailConfig()}}},[e._v("保存")])],1)],1)],1)],1)],1)],1)],1),r("div",{staticClass:"filter-container"},[r("div",{staticClass:"table-list-search-wrap"},[r("el-select",{staticClass:"list_search_select",staticStyle:{width:"150px"},attrs:{placeholder:"请选择告警类型",clearable:""},model:{value:e.listQuery.job_type,callback:function(t){e.$set(e.listQuery,"job_type",t)},expression:"listQuery.job_type"}},e._l(e.alarmTypes,(function(e){return r("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1),r("el-select",{staticClass:"list_search_select",staticStyle:{width:"150px"},attrs:{placeholder:"请选择告警状态",clearable:""},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},[r("el-option",{attrs:{label:"未处理",value:"unhandled"}}),r("el-option",{attrs:{label:"已处理",value:"handled"}}),r("el-option",{attrs:{label:"忽略",value:"ignore"}})],1),r("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" 查询 ")]),r("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.handleClear}},[e._v(" 重置 ")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addAlarm()}}},[e._v(" 新增")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.table=!0}}},[e._v(" 告警管理")])],1),r("div",{staticClass:"table-list-wrap"})]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.list,border:"","highlight-current-row":""}},[r("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"50"}}),r("el-table-column",{attrs:{label:"告警类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",{staticClass:"link-type click_btn",on:{click:function(t){return e.handleDetail(a)}}},[e._v(e._s(a.job_type))])]}}])}),r("el-table-column",{attrs:{prop:"object",align:"center",label:"告警对象"}}),r("el-table-column",{attrs:{prop:"alarm_status",align:"center",label:"告警状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["handled"===t.row.status?r("span",[e._v("已处理")]):"ignore"===t.row.status?r("span",[e._v("忽略")]):"unhandled"===t.row.status?r("span",[e._v("未处理")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"info",align:"center","show-overflow-tooltip":!0,label:"错误信息"}}),"unhandled"!==this.listQuery.status?r("div",[r("el-table-column",{attrs:{prop:"handle_time",align:"center",label:"处理时间"}}),r("el-table-column",{attrs:{prop:"handler_name",align:"center",label:"处理人"}})],1):e._e(),"unhandled"==this.listQuery.status?r("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.hanldeAlarm(a)}}},[e._v("处理")]),r("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.ignoreAlarm(a)}}},[e._v("忽略")])]}}],null,!1,519962492)}):e._e()],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.pageNo,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1)},n=[],s=r("253f"),o=s["a"],u=(r("1a2c"),r("2877")),i=Object(u["a"])(o,a,n,!1,null,null,null);t["default"]=i.exports},"253f":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_helayd_Documents_GitHub_Kunlun_XPanel_KunlunXPanel_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ade3"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ed08"),_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c0d6"),_utils_global_variable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("578a"),_api_system_account__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a287"),_components_Pagination__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("333d"),_api_cluster_list__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("82b0");__webpack_exports__["a"]={name:"Alarmrecord",components:{Pagination:_components_Pagination__WEBPACK_IMPORTED_MODULE_8__["a"]},data:function(){var e=function(e,t,r){console.log(t),t?r():r(new Error("请输入，不能为空"))};return Object(_Users_helayd_Documents_GitHub_Kunlun_XPanel_KunlunXPanel_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__["a"])({activeName:"first",tabPosition:"left",dialogRestoreVisible:!1,tableKey:0,list:null,listLoading:!0,searchLoading:!1,total:0,phone_message_config:{AccessKeyId:"",SecretKey:"",TemplateId:"",SigId:"",Type:"phone_message",id:0},mail_config:{AccessKeyId:"",SecretKey:"",AccountName:"",Type:"email",id:0},listQuery:{pageNo:1,pageSize:10,job_type:"",status:"unhandled",alarm_level:""},alarmTypes:_utils_global_variable__WEBPACK_IMPORTED_MODULE_6__["b"],alarmLevel:_utils_global_variable__WEBPACK_IMPORTED_MODULE_6__["a"],dialogFormVisible:!1,dialogEditVisible:!1,dialogUploadVisible:!1,dialogStatus:"",dialogDetail:!1,message_tips:"",message_type:"",installStatus:!1,dialogInfo:!1,alarmJobInfo:"",info:"",row:{},machine_add_priv:JSON.parse(sessionStorage.getItem("priv")).machine_add_priv,machine_drop_priv:JSON.parse(sessionStorage.getItem("priv")).machine_drop_priv,machine_priv:JSON.parse(sessionStorage.getItem("priv")).machine_priv,timer:null,rules:{},gridData:[],table:!1,dialog:!1,loading:!1,userList:[],restoretemp:{id:0,alrmType:"",user:"",alrm_to_user:"",status:""}},"rules",{alrmType:[{required:!0,trigger:"blur",validator:e}],user:[{required:!0,trigger:"blur",validator:e}],alrm_to_user:[{required:!0,trigger:"blur",validator:e}],status:[{required:!0,trigger:"blur",validator:e}],AccessKeyId:[{required:!0,trigger:"blur",validator:e}],SecretKey:[{required:!0,trigger:"blur",validator:e}],AccountName:[{required:!0,trigger:"blur",validator:e}],TemplateId:[{required:!0,trigger:"blur",validator:e}],SigId:[{required:!0,trigger:"blur",validator:e}]})},created:function(){this.getList(),this.getUserList(),this.getAlarmSetList(),this.getAlarmConfig()},mounted:function(){var e=this,t=0;this.timer=setInterval((function(){e.getStatus(e.timer,t++);var r=Object.assign({},e.listQuery);Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["c"])(r).then((function(t){e.list=t.list,e.total=t.total,e.listLoading=!1}))}),6e4)},destroyed:function(){clearInterval(this.timer),this.timer=null},methods:{SaveMailConfig:function(){var e=this;this.$refs["mail_config"].validate((function(t){if(t){var r=e.mail_config;console.log(r),Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["f"])(r).then((function(t){var r=t;200==r.code?(e.message_tips="成功",e.message_type="success",e.getList(),e.getUserList(),e.getAlarmSetList(),e.getAlarmConfig(),e.dialogRestoreVisible=!1):(e.message_tips="忽略失败",e.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(e.message_tips,e.message_type)}))}}))},SaveMessageConfig:function(){var e=this;this.$refs["phone_message_config"].validate((function(t){if(t){var r=e.phone_message_config;console.log(r),Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["f"])(r).then((function(t){var r=t;200==r.code?(e.message_tips="成功",e.message_type="success",e.getList(),e.getUserList(),e.getAlarmSetList(),e.getAlarmConfig(),e.dialogRestoreVisible=!1):(e.message_tips="忽略失败",e.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(e.message_tips,e.message_type)}))}}))},addAlarm:function(){this.restoretemp={id:0,alrmType:"",user:"",alrm_to_user:"",status:""},this.dialogRestoreVisible=!0},handleDeleteAlram:function(e){var t=this,r=Object(_utils__WEBPACK_IMPORTED_MODULE_4__["a"])(),a="将对告警规则进行处理操作,是否继续?code="+r;Object(_utils__WEBPACK_IMPORTED_MODULE_4__["e"])(a).then((function(a){if(a.value)if(a.value==r){var n={};n.id=e.id,Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["a"])(n).then((function(e){var r=e;200==r.code?(t.dialogFormVisible=!1,t.message_tips="处理成功",t.message_type="success",t.getUserList(),t.getAlarmSetList(),t.getAlarmConfig()):(t.message_tips="处理失败",t.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type)}))}else t.message_tips="code输入有误",t.message_type="error",Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type);else t.message_tips="code不能为空！",t.message_type="error",Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type)})).catch((function(){console.log("quxiao"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])("已取消删除","info")}))},handleEditAlram:function(e){console.log(e),this.dialogRestoreVisible=!0,this.restoretemp.id=e.id,this.restoretemp.alrmType=e.alarm_type,this.restoretemp.user=e.uid,this.restoretemp.alrm_to_user=e.alarm_to_user.split(","),this.restoretemp.stauts=e.status},handleAlramTypeName:function(e){for(var t=e.split(","),r=[],a=0;a<t.length;a++)switch(t[a]){case"system":r.push("系统消息");break;case"phone_message":r.push("短信提醒");break;case"mail":r.push("邮件提醒");break;case"wechat":r.push("微信推送");break}return r.join(",")},handleUserTypeName:function(e){for(var t="",r=0;r<this.alarmTypes.length;r++)if(this.alarmTypes[r].id==e){t=this.alarmTypes[r].label;break}return t},handleUserName:function(e){0==this.userList.length&&this.getUserList();for(var t="",r=0;r<this.userList.length;r++)if(this.userList[r].id==e){t=this.userList[r].username;break}return t},handleDetail:function(e){this.$alert(e.list,"详细信息",{dangerouslyUseHTMLString:!0})},handleFilter:function(){this.listQuery.pageNo=1,this.getList()},handleClear:function(){this.listQuery.job_type="",this.listQuery.pageNo=1,this.listQuery.status="unhandled",this.alarm_level="",this.getList()},getAlarmConfig:function getAlarmConfig(){var _this6=this,queryParam={};Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["b"])(queryParam).then((function(response){console.log(response);for(var configItem=response.list,_this=_this6,i=0;i<configItem.length;i++)switch(configItem[i].type){case"email":var email=JSON.parse(configItem[i].message);_this.mail_config.AccessKeyId=email.AccessKeyId,_this.mail_config.SecretKey=email.SecretKey,_this.mail_config.AccountName=email.AccountName,_this.mail_config.id=configItem[i].id;break;case"phone_message":var phone_message=JSON.parse(configItem[i].message);_this.phone_message_config.AccessKeyId=phone_message.AccessKeyId,_this.phone_message_config.SecretKey=phone_message.SecretKey,_this.phone_message_config.TemplateId=phone_message.TemplateId;var str=phone_message.SigId.replace(/u/gi,"\\u");_this.phone_message_config.SigId=eval("'"+str+"'"),_this.phone_message_config.id=configItem[i].id;break}}))},getUserList:function(){var e=this,t=Object.assign({},this.listQuery);t.user_name=sessionStorage.getItem("login_username"),Object(_api_system_account__WEBPACK_IMPORTED_MODULE_7__["e"])(t).then((function(t){e.userList=t.list}))},getAlarmSetList:function(){var e=this,t={pageNo:1,pageSize:50,user_name:sessionStorage.getItem("login_username")};Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["d"])(t).then((function(t){console.log(t),e.gridData=t.list}))},getList:function(){var e=this;this.listLoading=!0;var t=Object.assign({},this.listQuery);Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["c"])(t).then((function(t){e.list=t.list,e.total=t.total,setTimeout((function(){e.listLoading=!1}),500)}))},getStatus:function(e,t){setTimeout((function(){var r={user_name:sessionStorage.getItem("login_username")};Object(_api_cluster_list__WEBPACK_IMPORTED_MODULE_9__["y"])(r).then((function(e){})),t>=86400&&clearInterval(e)}),0)},hanldeAlarm:function(e){var t=this,r=Object(_utils__WEBPACK_IMPORTED_MODULE_4__["a"])(),a="将对"+e.object+e.job_type+"告警进行处理操作,是否继续?code="+r;Object(_utils__WEBPACK_IMPORTED_MODULE_4__["e"])(a).then((function(a){if(a.value)if(a.value==r){var n={};n.user_name=sessionStorage.getItem("login_username"),n.status="handled",n.id=e.id,Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["e"])(n).then((function(e){var r=e;200==r.code?(t.dialogFormVisible=!1,t.message_tips="处理成功",t.message_type="success",t.getList()):(t.message_tips="处理失败",t.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type)}))}else t.message_tips="code输入有误",t.message_type="error",Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type);else t.message_tips="code不能为空！",t.message_type="error",Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type)})).catch((function(){console.log("quxiao"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])("已取消删除","info")}))},ignoreAlarm:function(e){var t=this,r={};r.user_name=sessionStorage.getItem("login_username"),r.status="ignore",r.id=e.id,Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["e"])(r).then((function(e){var r=e;200==r.code?(t.dialogFormVisible=!1,t.message_tips="忽略成功",t.message_type="success",t.getList()):(t.message_tips="忽略失败",t.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(t.message_tips,t.message_type)}))},createData:function(){var e=this;this.$refs["restoreForm"].validate((function(t){if(t){var r=e.restoretemp;console.log(t),Object(_api_alarmrecord_list__WEBPACK_IMPORTED_MODULE_5__["g"])(r).then((function(t){var r=t;200==r.code?(e.message_tips="成功",e.message_type="success",e.getList(),e.getUserList(),e.getAlarmSetList(),e.dialogRestoreVisible=!1):(e.message_tips="忽略失败",e.message_type="error"),Object(_utils__WEBPACK_IMPORTED_MODULE_4__["g"])(e.message_tips,e.message_type)}))}}))}}}},"333d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[r("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];r("a9e3");Math.easeInOutQuad=function(e,t,r,a){return e/=a/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function u(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(e,t,r){var a=u(),n=e-a,i=20,l=0;t="undefined"===typeof t?500:t;var c=function e(){l+=i;var u=Math.easeInOutQuad(l,a,n,t);o(u),l<t?s(e):r&&"function"===typeof r&&r()};c()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&i(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&i(0,800)}}},c=l,_=(r("d059"),r("2877")),d=Object(_["a"])(c,a,n,!1,null,"65877abe",null);t["a"]=d.exports},"4d90":function(e,t,r){"use strict";var a=r("23e7"),n=r("0ccb").start,s=r("9a0c");a({target:"String",proto:!0,forced:s},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"82b0":function(e,t,r){"use strict";r.d(t,"x",(function(){return n})),r.d(t,"F",(function(){return s})),r.d(t,"I",(function(){return o})),r.d(t,"k",(function(){return u})),r.d(t,"l",(function(){return i})),r.d(t,"f",(function(){return l})),r.d(t,"u",(function(){return c})),r.d(t,"hb",(function(){return _})),r.d(t,"lb",(function(){return d})),r.d(t,"s",(function(){return m})),r.d(t,"W",(function(){return p})),r.d(t,"d",(function(){return g})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return b})),r.d(t,"G",(function(){return h})),r.d(t,"z",(function(){return O})),r.d(t,"n",(function(){return y})),r.d(t,"m",(function(){return v})),r.d(t,"o",(function(){return C})),r.d(t,"qb",(function(){return j})),r.d(t,"rb",(function(){return E})),r.d(t,"sb",(function(){return S})),r.d(t,"tb",(function(){return D})),r.d(t,"jb",(function(){return M})),r.d(t,"kb",(function(){return A})),r.d(t,"E",(function(){return P})),r.d(t,"wb",(function(){return I})),r.d(t,"O",(function(){return L})),r.d(t,"ab",(function(){return T})),r.d(t,"cb",(function(){return k})),r.d(t,"db",(function(){return K})),r.d(t,"U",(function(){return w})),r.d(t,"bb",(function(){return U})),r.d(t,"C",(function(){return R})),r.d(t,"v",(function(){return B})),r.d(t,"ub",(function(){return x})),r.d(t,"a",(function(){return W})),r.d(t,"e",(function(){return N})),r.d(t,"yb",(function(){return q})),r.d(t,"p",(function(){return $})),r.d(t,"ib",(function(){return z})),r.d(t,"Y",(function(){return Q})),r.d(t,"X",(function(){return V})),r.d(t,"D",(function(){return F})),r.d(t,"P",(function(){return J})),r.d(t,"Q",(function(){return H})),r.d(t,"w",(function(){return X})),r.d(t,"g",(function(){return G})),r.d(t,"Z",(function(){return Y})),r.d(t,"A",(function(){return Z})),r.d(t,"B",(function(){return ee})),r.d(t,"V",(function(){return te})),r.d(t,"S",(function(){return re})),r.d(t,"r",(function(){return ae})),r.d(t,"H",(function(){return ne})),r.d(t,"mb",(function(){return se})),r.d(t,"L",(function(){return oe})),r.d(t,"M",(function(){return ue})),r.d(t,"t",(function(){return ie})),r.d(t,"ob",(function(){return le})),r.d(t,"fb",(function(){return ce})),r.d(t,"gb",(function(){return _e})),r.d(t,"R",(function(){return de})),r.d(t,"i",(function(){return me})),r.d(t,"pb",(function(){return pe})),r.d(t,"N",(function(){return ge})),r.d(t,"nb",(function(){return fe})),r.d(t,"q",(function(){return be})),r.d(t,"j",(function(){return he})),r.d(t,"eb",(function(){return Oe})),r.d(t,"y",(function(){return ye})),r.d(t,"vb",(function(){return ve})),r.d(t,"T",(function(){return Ce})),r.d(t,"h",(function(){return je})),r.d(t,"J",(function(){return Ee})),r.d(t,"K",(function(){return Se})),r.d(t,"xb",(function(){return De}));var a=r("b775");function n(e){return Object(a["a"])({url:"/user/Cluster/clusterList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/user/Cluster/getEffectComp",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/user/Cluster/getExperience",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/Cluster/createCluster",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/user/Cluster/delCluster",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/user/Cluster/backUpCluster",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/user/Cluster/getBackUpList",method:"get",params:e})}function _(e){return Object(a["a"])({url:"/user/Cluster/ifBackUp",method:"post",data:{id:e}})}function d(e){return Object(a["a"])({url:"/user/Cluster/restoreCluster",method:"post",data:e})}function m(){return Object(a["a"])({url:"/user/Cluster/getAllMachine",method:"get",params:""})}function p(e){return Object(a["a"])({url:"/user/Cluster/getShards",method:"post",data:{id:e}})}function g(e){return Object(a["a"])({url:"/user/Cluster/addShards",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/user/Cluster/addComps",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/user/Cluster/addNodes",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/user/Cluster/getStatus",method:"post",data:e})}function O(e){return Object(a["a"])({url:"/user/Cluster/getClusterNodesList",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/user/Cluster/delShard",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/user/Cluster/delComp",method:"post",data:e})}function C(e){return Object(a["a"])({url:"/user/Cluster/delSnode",method:"post",data:e})}function j(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function E(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function S(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function D(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function M(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function A(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function P(e){return Object(a["a"])({url:"/user/Cluster/getEffectCluster",method:"post",data:e})}function I(e){return Object(a["a"])({url:"/user/Cluster/updateAssign",method:"post",data:e})}function L(e){return Object(a["a"])({url:"/user/Cluster/getNode",method:"post",data:e})}function T(e){return Object(a["a"])({url:"/user/Cluster/getStandbyNode",method:"post",data:e})}function k(e){return Object(a["a"])({url:"/user/Cluster/getSwitcheOverList",method:"get",params:e})}function K(e){return Object(a["a"])({url:"/user/Cluster/getTaskList",method:"get",params:e})}function w(e){return Object(a["a"])({url:"/user/Cluster/getShardPrimary",method:"post",data:e})}function U(){return Object(a["a"])({url:"/user/Cluster/getStroMachine",method:"get",params:""})}function R(){return Object(a["a"])({url:"/user/Cluster/getCompMachine",method:"get",params:""})}function B(e){return Object(a["a"])({url:"/user/Cluster/getBackUpStorage",method:"post",data:e})}function x(e){return Object(a["a"])({url:"/user/Cluster/switchShard",method:"post",data:e})}function W(e){return Object(a["a"])({url:"/user/Cluster/SetCpuCgroup",method:"post",data:e})}function N(e){return Object(a["a"])({url:"/user/Cluster/addStorage",method:"post",data:e})}function q(e){return Object(a["a"])({url:"/user/Cluster/updateStorage",method:"post",data:e})}function $(e){return Object(a["a"])({url:"/user/Cluster/delStorage",method:"post",data:e})}function z(e){return Object(a["a"])({url:"/user/Cluster/rebuildNode",method:"post",data:e})}function Q(e){return Object(a["a"])({url:"/user/Cluster/getShardsJobLog",method:"post",data:e})}function V(e){return Object(a["a"])({url:"/user/Cluster/getShardsCount",method:"get",params:e})}function F(e){return Object(a["a"])({url:"/user/Cluster/getCompsCount",method:"get",params:e})}function J(e){return Object(a["a"])({url:"/user/Cluster/getNodesCount",method:"get",params:e})}function H(e){return Object(a["a"])({url:"/user/Cluster/getOldCluster",method:"get",params:e})}function X(){return Object(a["a"])({url:"/user/Cluster/getBackupStorageList",method:"get",params:""})}function G(e){return Object(a["a"])({url:"/user/Cluster/clusterListError",method:"get",params:e})}function Y(e){return Object(a["a"])({url:"/user/Cluster/getShardsName",method:"get",params:e})}function Z(e){return Object(a["a"])({url:"/user/Cluster/getCompDBName",method:"get",params:e})}function ee(e){return Object(a["a"])({url:"/user/Cluster/getCompDBTable",method:"get",params:e})}function te(e){return Object(a["a"])({url:"/user/Cluster/getShardTable",method:"get",params:e})}function re(e){return Object(a["a"])({url:"/user/Cluster/getOtherShards",method:"get",params:e})}function ae(e){return Object(a["a"])({url:"/user/Cluster/expandCluster",method:"post",data:e})}function ne(e){return Object(a["a"])({url:"/user/Cluster/getExpandTableList",method:"post",data:e})}function se(e){return Object(a["a"])({url:"/user/Cluster/setMaxDalay",method:"post",data:e})}function oe(e){return Object(a["a"])({url:"/user/Cluster/getMaxDalay",method:"post",data:e})}function ue(e){return Object(a["a"])({url:"/user/Cluster/getMetaCluster",method:"get",params:e})}function ie(e){return Object(a["a"])({url:"/user/Cluster/getBackStorageList",method:"get",params:e})}function le(e){return Object(a["a"])({url:"/user/Cluster/setVariable",method:"post",data:e})}function ce(e){return Object(a["a"])({url:"/user/Cluster/getVariable",method:"post",data:e})}function _e(e){return Object(a["a"])({url:"/user/Cluster/getWorkMode",method:"post",data:e})}function de(e){return Object(a["a"])({url:"/user/Cluster/getOneBackUpList",method:"get",params:e})}function me(e){return Object(a["a"])({url:"/user/Cluster/computeList",method:"get",params:e})}function pe(e){return Object(a["a"])({url:"/user/Cluster/shardList",method:"get",params:e})}function ge(e){return Object(a["a"])({url:"/user/Cluster/getNoSwitchList",method:"post",data:e})}function fe(e){return Object(a["a"])({url:"/user/Cluster/setNoSwitch",method:"post",data:e})}function be(e){return Object(a["a"])({url:"/user/Cluster/delSwitch",method:"post",data:e})}function he(e){return Object(a["a"])({url:"/user/Cluster/controlInstance",method:"post",data:e})}function Oe(e){return Object(a["a"])({url:"/user/Cluster/getThisShardNodes",method:"post",data:e})}function ye(e){return Object(a["a"])({url:"/user/Cluster/getClusterMonitor",method:"get",params:e})}function ve(e){return Object(a["a"])({url:"/user/ClusterSetting/tableRepartition",method:"post",data:e})}function Ce(e){return Object(a["a"])({url:"/user/ClusterSetting/getPGTableList",method:"get",params:e})}function je(e){return Object(a["a"])({url:"/user/ClusterSetting/clusterOptions",method:"get",params:e})}function Ee(e){return Object(a["a"])({url:"/user/Cluster/getLogicalBackUpList",method:"get",params:e})}function Se(e){return Object(a["a"])({url:"/user/ClusterSetting/getRecordLogicalBackup",method:"get",params:e})}function De(e){return Object(a["a"])({url:"/user/Cluster/updateShard",method:"post",data:e})}},"9a0c":function(e,t,r){var a=r("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),s=r("fc6a"),o=r("a640"),u=[].join,i=n!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:i||!l},{join:function(e){return u.call(s(this),void 0===e?",":e)}})},a287:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return l}));var a=r("b775");function n(e){return Object(a["a"])({url:"/user/User/userList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/user/User/add",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/user/User/edit",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/User/delete",method:"post",data:{id:e}})}function i(e){return Object(a["a"])({url:"/user/User/checkMobile",method:"post",data:{phone_number:e}})}function l(e){return Object(a["a"])({url:"/user/User/checkUserName",method:"post",data:{username:e}})}},bbec:function(e,t,r){},c0d6:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"e",(function(){return s})),r.d(t,"g",(function(){return o})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return c}));var a=r("b775");function n(e){return Object(a["a"])({url:"/user/AlarmRecord/getAlarmRecordList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/user/AlarmRecord/update",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/user/AlarmRecord/updateAlarmSet",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/AlarmRecord/deleteAlarmItem",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/user/AlarmRecord/updateAlarmConfig",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/user/AlarmRecord/getAlarmConfig",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/user/AlarmRecord/getAlarmSetList",method:"get",params:e})}},d059:function(e,t,r){"use strict";r("bbec")},e2c0:function(e,t,r){},ed08:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return c}));r("53ca"),r("ac1f"),r("00b4"),r("5319"),r("4d63"),r("2c3e"),r("25f0"),r("d3b7"),r("4d90"),r("159b");var a=r("5c96");function n(e,t){return Object(a["Message"])({message:e,type:t,duration:2e3})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"确定执行此操作吗？",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";return a["MessageBox"].confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:t,center:!0})}function o(e){var t=e.split("T");return t[0]+" "+t[1]}function u(){var e=new Date,t="-",r=":",a=e.getFullYear(),n=e.getMonth()+1,s=e.getDate(),o=e.getHours(),u=e.getMinutes(),i=e.getSeconds(),l=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"];l[e.getDay()];n>=1&&n<=9&&(n="0"+n),s>=0&&s<=9&&(s="0"+s),o>=0&&o<=9&&(o="0"+o),u>=0&&u<=9&&(u="0"+u),i>=0&&i<=9&&(i="0"+i);var c=a+t+n+t+s+" "+o+r+u+r+i;return c}function i(e){var t=e.split("-"),r=t[0],a=t[1],n=t[2],s=new Date(r,a,0);s=s.getDate();var o=r,u=parseInt(a)+1;13==u&&(o=parseInt(o)+1,u=1);var i=n,l=new Date(o,u,0);l=l.getDate(),i>l&&(i=l),u<10&&(u="0"+u);var c=o+"-"+u+"-"+i;return c}function l(){for(var e="",t=4,r=new Array(0,1,2,3,4,5,6,7,8,9),a=0;a<t;a++){var n=Math.floor(9*Math.random());e+=r[n]}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"确定执行此操作吗？",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";return a["MessageBox"].prompt(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入code",inputPattern:/^[0-9]\d*$/,inputErrorMessage:"code格式不正确",type:t})}}}]);